:root{--bg:#f2f4f6;--card:#fff;--border:#d1d5db;--text:#111827;--muted:#6b7280;--danger:#b91c1c;--disabled:#f3f4f6}
*{box-sizing:border-box} body{margin:0;font-family:Arial,sans-serif;background:var(--bg);color:var(--text);font-size:13px}
.app{max-width:1400px;margin:0 auto;padding:8px;display:grid;gap:8px}
.topbar,.card{background:var(--card);border:1px solid var(--border);padding:8px}
.topbar{display:flex;justify-content:space-between;align-items:center;gap:8px}
h1{font-size:16px;margin:0}.badge{padding:2px 6px;border:1px solid var(--border);background:#eef2ff}
.dense-grid{display:grid;grid-template-columns:repeat(4,minmax(180px,1fr));gap:6px}.field label{display:block;color:var(--muted);font-size:11px}
.field input,#historySearch{width:100%;padding:5px;border:1px solid var(--border);font-size:12px}
.section-title{font-weight:700;margin-bottom:6px}.table-wrap{overflow:auto}
table{width:100%;border-collapse:collapse;table-layout:fixed}th,td{border:1px solid var(--border);padding:4px;text-align:left;vertical-align:top}
th{background:#f8fafc;font-size:12px}td input{width:100%;padding:4px;border:1px solid #cbd5e1;font-size:12px}
.row-actions{display:flex;gap:6px;margin-top:6px;flex-wrap:wrap}.btn{padding:5px 8px;border:1px solid #9ca3af;background:#f9fafb;cursor:pointer;font-size:12px}.danger{border-color:#ef4444;color:#991b1b}
.summary-grid{display:grid;grid-template-columns:repeat(3,minmax(200px,1fr));gap:6px}
.inline-warn{color:var(--danger);font-size:11px;line-height:1.2}.warning-box{display:grid;gap:2px;margin-top:6px;min-height:14px}
.disabled{background:var(--disabled);opacity:.7}.small{font-size:12px;color:var(--muted)}.hidden{display:none}
.print-area{display:none}
@media (max-width:900px){.dense-grid,.summary-grid{grid-template-columns:repeat(2,minmax(150px,1fr))}}
@media print{
  body *{visibility:hidden !important}
  #printArea,#printArea *{visibility:visible !important}
  #printArea{display:block !important;position:absolute;left:0;top:0;width:100%;background:#fff;color:#000;padding:10mm;font-size:11px}
  #printArea table{width:100%;border-collapse:collapse}
  #printArea th,#printArea td{border:1px solid #000;padding:4px}
}
